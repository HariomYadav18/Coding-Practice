class Solution {
  public:
    int maxWater(vector<int> &arr) {
        // code here
        int n = arr.size();
        int left  = 1;
        int right = n - 2;
        
        int lmax = arr[0];
        int rmax = arr[n-1];
        
        int ans = 0 ;
        
        while(left<=right){
            if(lmax <= rmax){
                ans += max(0, lmax - arr[left]);
                lmax = max(lmax, arr[left]);
                left += 1;
            }else{
                ans += max(0,rmax - arr[right]);
                rmax = max(rmax, arr[right]);
                right -= 1;
            }
        }
        return ans;
    }
};
